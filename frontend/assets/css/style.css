/* ===== Base / Reset ===== */
* { box-sizing: border-box; }
:root{
  --bg:#F8FAFC; --card:#FFFFFF; --ink:#0F172A; --muted:#475569;
  --primary:#2563EB; --primary-600:#2563EB; --primary-700:#1D4ED8;
  --accent:#22C55E; --danger:#DC2626; --warning:#F59E0B; --success:#16A34A;
  --ring:#2563EB; --border:#E2E8F0; --shadow:0 6px 24px rgba(15,23,42,.08);
  --radius:16px; --space:16px;
}
html,body{ height:100%; }
body.app-body{
  margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--ink); background:var(--bg); line-height:1.5;
  display:flex; flex-direction:column;
}
.container{ max-width:1200px; margin:0 auto; padding:0 16px; }

/* Hide [hidden] globally */
[hidden]{ display:none !important; }

/* ===== Header / Nav ===== */
.app-header{ position:sticky; top:0; background:#fff; border-bottom:1px solid var(--border); z-index:50; }
.nav-wrap{ height:64px; display:flex; align-items:center; justify-content:space-between; gap:16px; }
.brand{ font-weight:700; color:var(--ink); text-decoration:none; }
.brand.small{ font-size:14px; }
.nav{ display:flex; gap:18px; }
.nav-link{ color:var(--muted); text-decoration:none; font-weight:500; padding:6px 8px; border-radius:8px; }
.nav-link:hover{ color:var(--ink); background:#F1F5F9; }
.nav-link.active{ color:var(--primary); background:#EEF2FF; }

.nav-right{ display:flex; align-items:center; gap:10px; }
.user-chip{ font-size:14px; color:var(--muted); }

/* --- Profile dropdown --- */
.profile{ position:relative; }
.profile-btn{
  display:flex; align-items:center; gap:10px;
  padding:6px 10px; border-radius:999px; background:#fff;
  border:1px solid var(--border); cursor:pointer;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}
.profile-btn:hover{ background:#F8FAFC; }
.profile-btn:focus{ outline:2px solid var(--ring); outline-offset:2px; }
.avatar{
  width:32px; height:32px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  background:#E6F0FF; color:#1D4ED8; font-weight:700;
  font-size:14px; line-height:1;
}
.profile-meta{ line-height:1; text-align:left; }
.profile-name{ font-weight:600; font-size:14px; color:#0F172A; }
.profile-email{ font-size:12px; color:var(--muted); margin-top:2px; }

.profile-menu{
  position:absolute; top:48px; right:0; min-width:260px;
  background:#fff; border:1px solid var(--border); border-radius:12px;
  box-shadow:var(--shadow); overflow:hidden; animation:menuIn .12s ease-out;
  z-index:60;
}
.profile-menu[hidden]{ display:none !important; }
@keyframes menuIn{ from{ opacity:0; transform:translateY(-4px);} to{opacity:1; transform:translateY(0);} }

.profile-menu .head{ padding:12px 14px; border-bottom:1px solid var(--border); }
.profile-menu .head .name{ font-weight:700; color:#0F172A; }
.profile-menu .head .email{ font-size:12px; color:#475569; }
.profile-menu .badges{ margin-top:6px; display:flex; gap:6px; flex-wrap:wrap; }

.profile-menu .item{
  display:block; padding:10px 14px; text-decoration:none;
  color:#0F172A; font-weight:500; cursor:pointer;
}
.profile-menu .item:hover{ background:#F8FAFC; }
.profile-menu .item.danger{ color:#DC2626; }
.profile.open .profile-btn{ background:#EEF2FF; border-color:#c7d2fe; }

/* --- Mobile nav --- */
.hamburger{
  display:none; background:none; border:0; padding:8px; border-radius:10px; cursor:pointer;
}
.hamburger span{ display:block; width:22px; height:2px; background:#0F172A; margin:4px 0; transition:.2s; }
.hamburger.is-open span:nth-child(1){ transform:translateY(6px) rotate(45deg); }
.hamburger.is-open span:nth-child(2){ opacity:0; }
.hamburger.is-open span:nth-child(3){ transform:translateY(-6px) rotate(-45deg); }

.mobile-nav{
  display:block; border-top:1px solid var(--border); background:#fff; z-index:55;
}
.mobile-nav a{
  display:block; padding:12px 16px; text-decoration:none; color:#475569;
}
.mobile-nav a:hover{ background:#F8FAFC; color:#0F172A; }
.mobile-nav a.active{ color:#2563EB; background:#EEF2FF; }
.mobile-actions{ padding:12px 16px; display:grid; gap:8px; }

/* ===== Main / Footer ===== */
.app-main{ flex:1; padding:24px 16px; }
.app-footer{ background:#fff; border-top:1px solid var(--border); margin-top:32px; }
.footer-grid{ display:grid; grid-template-columns:1fr auto; gap:24px; padding:24px 0; }
.footer-links{ display:flex; gap:16px; }
.footer-links a{ color:var(--muted); text-decoration:none; }
.footer-links a:hover{ color:var(--ink); }
.footer-bottom{ border-top:1px solid var(--border); padding:12px 0; font-size:13px; color:#475569; text-align:center; }

/* ===== Components ===== */
.card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); }
.card-pad{ padding:20px; }

.kpis{ display:grid; grid-template-columns:repeat(4,1fr); gap:16px; }
.kpi{ padding:16px; }
.kpi-title{ font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.04em; }
.kpi-value{ font-size:28px; font-weight:700; margin-top:6px; }

.grid-2{ display:grid; grid-template-columns:2fr 1fr; gap:16px; }

/* ===== Buttons ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  height:40px; padding:0 14px; border-radius:10px; border:1px solid transparent;
  font-weight:600; text-decoration:none; cursor:pointer;
  transition:transform .04s ease, background .15s ease, border-color .15s ease;
}
.btn:active{ transform:translateY(1px); }
.btn-primary{ background:var(--primary); color:#fff; }
.btn-primary:hover{ background:var(--primary-700); }
.btn-dark{ background:#0F172A; color:#fff; }
.btn-dark:hover{ background:#111827; }
.btn-ghost{ background:#fff; color:#0F172A; border:1px solid var(--border); }
.btn-ghost:hover{ background:#F8FAFC; }

/* ===== Forms ===== */
.form{ display:grid; gap:14px; }
.input{
  width:100%; height:42px; border:1px solid var(--border);
  border-radius:10px; padding:0 12px; font:inherit; background:#fff;
}
.input:focus{ outline:2px solid var(--ring); outline-offset:1px; border-color:transparent; }
.label{ font-size:14px; font-weight:600; color:#0F172A; }
.help{ font-size:12px; color:#475569; }
.error{ font-size:12px; color:#DC2626; }

/* ===== Tables ===== */
.table{ width:100%; border-collapse:separate; border-spacing:0; }
.table th, .table td{ padding:12px 14px; border-bottom:1px solid var(--border); text-align:left; vertical-align:top; }
.table th{ font-size:12px; letter-spacing:.04em; text-transform:uppercase; color:#475569; }

.badge{
  display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px;
  border:1px solid var(--border); background:#fff; color:#0F172A;
}
.badge.success{ color:var(--success); border-color:#bbf7d0; background:#ecfdf5; }
.badge.warn{ color:var(--warning); border-color:#fde68a; background:#fffbeb; }
.badge.info{ color:var(--primary); border-color:#c7d2fe; background:#eef2ff; }

/* ===== Toast ===== */
.toast{
  position:fixed; top:80px; right:20px; background:#111827; color:#fff;
  padding:12px 14px; border-radius:10px; box-shadow:var(--shadow); z-index:60;
}

/* ===== Utilities ===== */
.stack{ display:grid; gap:16px; }
.center{ display:grid; place-items:center; }
.muted{ color:var(--muted); }
.w-full{ width:100%; }
.hidden{ display:none !important; }
.max-w-md{ max-width:720px; }

/* ===== Charts ===== */
.chart-card canvas{ width:100% !important; height:280px !important; }

/* ===== Auth pages ===== */
.auth-wrap{ display:grid; gap:16px; max-width:480px; margin:0 auto; }
.auth-title{ font-weight:700; font-size:24px; }
.auth-alt{ font-size:14px; color:var(--muted); }

/* ===== Avatar image support ===== */
.avatar img{
  width:100%; height:100%;
  border-radius:50%;
  object-fit:cover; display:block;
}
.profile-menu .section-title{
  font-size:11px; letter-spacing:.06em; text-transform:uppercase;
  color:#64748b; padding:8px 14px 4px;
}

/* ===== Responsive ===== */
@media (max-width: 960px){
  .nav{ display:none; }
  .hamburger{ display:inline-block; }
  .kpis{ grid-template-columns:repeat(2,1fr); }
  .grid-2{ grid-template-columns:1fr; }
  .footer-grid{ grid-template-columns:1fr; }
}

/* Extra-small tweaks */
@media (max-width: 420px){
  .profile-btn .profile-meta{ display:none; } /* keep just avatar on very small screens */
}
